/**
 * @name Crimson
 * @version 1.0.0
 * @author ProjektCode
 * @description A modern theme with deep obsidian backgrounds and vibrant crimson accents
 * @source https://github.com/ProjektCode/crimson
 * 
 * Structure inspired by Catppuccin Discord theme
 * @see https://github.com/catppuccin/discord
 */

/* ===== Crimson Theme for Discord ===== */
/* CSS structure based on Catppuccin (https://github.com/catppuccin/discord) */
/* Colors from Crimson STYLE_GUIDE.md */

/* Main dark theme - targets both standard and visual refresh */
.theme-dark,
.visual-refresh.theme-dark,
.visual-refresh .theme-dark {
    /* Background colors - Obsidian/Midnight palette */
    --background-primary: #16131a;
    --background-secondary: #0e0c0d;
    --background-secondary-alt: #1e1a1c;
    --background-tertiary: #0e0c0d;
    --background-accent: #dc143c;
    --background-floating: #1e1a1c;
    --background-modifier-hover: #2a2426;
    --background-modifier-active: #322a2e;
    --background-modifier-selected: #3a3034;
    --background-modifier-accent: rgba(220, 20, 60, 0.2);

    /* Text colors */
    --text-normal: #e8e8e8;
    --text-muted: #a0a0a0;
    --text-link: #ff6688;
    --text-positive: #50c878;
    --text-warning: #ffd700;
    --text-danger: #dc143c;
    --text-brand: #dc143c;

    /* Header/Channels */
    --header-primary: #e8e8e8;
    --header-secondary: #a0a0a0;
    --channels-default: #a0a0a0;
    --channel-icon: #a0a0a0;

    /* Interactive elements */
    --interactive-normal: #a0a0a0;
    --interactive-hover: #e8e8e8;
    --interactive-active: #e8e8e8;
    --interactive-muted: #6a6a6a;

    /* Brand colors (crimson accent) */
    --brand-experiment: #dc143c;
    --brand-experiment-560: #dc143c;
    --control-brand-foreground: #dc143c;
    --control-brand-foreground-new: #dc143c;

    /* Status colors */
    --status-positive-background: rgba(80, 200, 120, 0.2);
    --status-positive-text: #50c878;
    --status-warning-background: rgba(255, 215, 0, 0.2);
    --status-warning-text: #ffd700;
    --status-danger-background: rgba(220, 20, 60, 0.2);
    --status-danger-text: #dc143c;
    --status-danger: #dc143c;
    --status-positive: #50c878;
    --status-warning: #ffd700;

    /* Input fields */
    --input-background: #1e1a1c;
    --input-placeholder-text: #6a6a6a;

    /* Scrollbar */
    --scrollbar-thin-thumb: rgba(220, 20, 60, 0.4);
    --scrollbar-thin-track: transparent;
    --scrollbar-auto-thumb: rgba(220, 20, 60, 0.4);
    --scrollbar-auto-track: transparent;

    /* Deprecated but still used */
    --deprecated-card-bg: #1e1a1c;
    --deprecated-card-editable-bg: #16131a;
    --deprecated-store-bg: #0e0c0d;
    --deprecated-quickswitcher-input-background: #1e1a1c;
    --deprecated-quickswitcher-input-placeholder: #6a6a6a;
    --deprecated-text-input-bg: #1e1a1c;
    --deprecated-text-input-border: #2a2426;
    --deprecated-text-input-border-hover: #322a2e;
    --deprecated-text-input-border-disabled: #2a2426;
    --deprecated-text-input-prefix: #a0a0a0;

    /* Elevation/shadows */
    --elevation-stroke: rgba(0, 0, 0, 0.3);
    --elevation-low: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1.5px 0 rgba(0, 0, 0, 0.1);
    --elevation-medium: 0 4px 4px rgba(0, 0, 0, 0.2);
    --elevation-high: 0 8px 16px rgba(0, 0, 0, 0.3);

    /* Info colors */
    --info-positive-background: rgba(80, 200, 120, 0.15);
    --info-positive-foreground: #50c878;
    --info-warning-background: rgba(255, 215, 0, 0.15);
    --info-warning-foreground: #ffd700;
    --info-danger-background: rgba(220, 20, 60, 0.15);
    --info-danger-foreground: #dc143c;
    --info-help-background: rgba(91, 155, 213, 0.15);
    --info-help-foreground: #5b9bd5;

    /* Button colors */
    --button-danger-background: #dc143c;
    --button-danger-background-hover: #ff4466;
    --button-danger-background-active: #c81e38;
    --button-positive-background: #50c878;
    --button-positive-background-hover: #6fdc94;
    --button-positive-background-active: #2d9d5f;
    --button-secondary-background: #322a2e;
    --button-secondary-background-hover: #3a3034;
    --button-secondary-background-active: #2a2426;
    --button-outline-danger-text: #dc143c;
    --button-outline-danger-border: #dc143c;
    --button-outline-danger-background-hover: rgba(220, 20, 60, 0.2);
    --button-outline-positive-text: #50c878;
    --button-outline-positive-border: #50c878;
    --button-outline-positive-background-hover: rgba(80, 200, 120, 0.2);

    /* Mentions */
    --mention-foreground: #ff4466;
    --mention-background: rgba(220, 20, 60, 0.2);

    /* Activity card */
    --activity-card-background: #1e1a1c;

    /* Profile/User */
    --profile-body-background-color: #0e0c0d;

    /* Visual Refresh specific variables */
    --bg-overlay-1: rgba(14, 12, 13, 0.85);
    --bg-overlay-2: rgba(14, 12, 13, 0.8);
    --bg-overlay-3: rgba(14, 12, 13, 0.7);
    --bg-overlay-hover: rgba(42, 36, 38, 0.4);
    --bg-overlay-active: rgba(50, 42, 46, 0.4);
    --bg-overlay-selected: rgba(58, 48, 52, 0.4);

    /* Home/Chat/Modal */
    --home-background: #16131a;
    --chat-background: #16131a;
    --modal-background: #16131a;
    --modal-footer-background: #16131a;

    /* Focus */
    --focus-primary: #dc143c;

    /* Brand scale */
    --brand-500: #dc143c;
    --brand-560: #c81e38;
    --brand-600: #b01030;

    /* White overrides */
    --white-500: #e8e8e8;

    /* Black overrides */
    --black-500: #0e0c0d;

    /* Green scale */
    --green-360: #50c878;

    /* Red scale */
    --red-400: #dc143c;
    --red-430: #c81e38;
}

/* ===== Additional UI Styling ===== */

/* Server/Guild list pill and selection */
.theme-dark [class*="pill-"] {
    background-color: #dc143c !important;
}

/* Unread badge */
.theme-dark [class*="unread-"] {
    background-color: #dc143c !important;
}

/* Active channel background */
.theme-dark [class*="containerDefault-"] [class*="link-"]:hover,
.theme-dark [class*="containerDefault-"] [class*="link-"][class*="selected-"] {
    background-color: #322a2e !important;
}

/* Code blocks */
.theme-dark [class*="markup-"] code {
    background-color: #1e1a1c !important;
    border-color: #2a2426 !important;
}

.theme-dark [class*="markup-"] pre {
    background-color: #1e1a1c !important;
    border-color: #2a2426 !important;
}

/* Code block syntax highlighting */
.theme-dark .hljs {
    background: #16131a !important;
    color: #e8e8e8 !important;
}

.theme-dark .hljs-keyword {
    color: #ff4466 !important;
}

.theme-dark .hljs-string {
    color: #50c878 !important;
}

.theme-dark .hljs-number {
    color: #ff8866 !important;
}

.theme-dark .hljs-function {
    color: #5b9bd5 !important;
}

.theme-dark .hljs-title {
    color: #5b9bd5 !important;
}

.theme-dark .hljs-comment {
    color: #6a6a6a !important;
}

.theme-dark .hljs-built_in {
    color: #ffd700 !important;
}

.theme-dark .hljs-class {
    color: #ffd700 !important;
}

.theme-dark .hljs-type {
    color: #ffd700 !important;
}

.theme-dark .hljs-attr {
    color: #ffd700 !important;
}

.theme-dark .hljs-variable {
    color: #e8e8e8 !important;
}

.theme-dark .hljs-params {
    color: #ffaacc !important;
}

.theme-dark .hljs-literal {
    color: #ff8866 !important;
}

.theme-dark .hljs-symbol {
    color: #22d3ee !important;
}

.theme-dark .hljs-meta {
    color: #d946ef !important;
}

.theme-dark .hljs-name {
    color: #ff4466 !important;
}

.theme-dark .hljs-tag {
    color: #ff4466 !important;
}

.theme-dark .hljs-operator {
    color: #ff4466 !important;
}

.theme-dark .hljs-punctuation {
    color: #b0b0b0 !important;
}

/* User popout/modal backgrounds */
.theme-dark [class*="userPopout-"],
.theme-dark [class*="userProfileOuter-"],
.theme-dark [class*="userProfileInner-"] {
    background-color: #0e0c0d !important;
}

/* Settings background */
.theme-dark [class*="contentRegion-"] {
    background-color: #16131a !important;
}

.theme-dark [class*="sidebarRegion-"] {
    background-color: #0e0c0d !important;
}

/* Scrollbar styling */
.theme-dark ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.theme-dark ::-webkit-scrollbar-track {
    background-color: transparent;
}

.theme-dark ::-webkit-scrollbar-thumb {
    background-color: rgba(220, 20, 60, 0.4);
    border-radius: 4px;
}

.theme-dark ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(220, 20, 60, 0.6);
}

/* Selection color */
.theme-dark ::selection {
    background-color: rgba(220, 20, 60, 0.4) !important;
}

/* Focus rings */
.theme-dark *:focus-visible {
    outline-color: #dc143c !important;
}

/* Links */
.theme-dark a {
    color: #ff6688;
}

.theme-dark a:hover {
    color: #ff6688;
}

/* Member list hover */
.theme-dark [class*="member-"]:hover,
.theme-dark [class*="memberInner-"]:hover {
    background-color: #2a2426 !important;
}

/* Emoji picker */
.theme-dark [class*="emojiPicker-"] {
    background-color: #0e0c0d !important;
}

.theme-dark [class*="categoryList-"] {
    background-color: #0e0c0d !important;
}

/* Search bar */
.theme-dark [class*="searchBar-"] {
    background-color: #1e1a1c !important;
}

/* Reactions */
.theme-dark [class*="reaction-"] {
    background-color: #1e1a1c !important;
}

.theme-dark [class*="reaction-"]:hover {
    background-color: #2a2426 !important;
}

.theme-dark [class*="reaction-"][class*="reactionMe-"] {
    background-color: rgba(220, 20, 60, 0.2) !important;
    border-color: #dc143c !important;
}

/* Message hover */
.theme-dark [class*="message-"]:hover {
    background-color: rgba(30, 26, 28, 0.3) !important;
}

/* Mentioned message */
.theme-dark [class*="mentioned-"] {
    background-color: rgba(255, 215, 0, 0.1) !important;
    border-left-color: #ffd700 !important;
}

/* New messages bar */
.theme-dark [class*="newMessagesBar-"] {
    background-color: #dc143c !important;
}

/* Voice connected */
.theme-dark [class*="rtcConnectionStatus-"] [class*="pill-"] {
    background-color: #50c878 !important;
}

/* Live badge */
.theme-dark [class*="liveBadge-"],
.theme-dark [class*="live-"] {
    background-color: #dc143c !important;
}

/* Boost badge */
.theme-dark [class*="premiumIconWrapper-"] svg {
    color: #ff6688 !important;
}

/* Tab bar active */
.theme-dark [class*="tabBar-"] [class*="item-"][class*="selected-"] {
    border-color: #dc143c !important;
    color: #e8e8e8 !important;
}

/* Folder backgrounds */
.theme-dark [class*="folderIconWrapper-"] {
    background-color: #dc143c !important;
}

/* Notice bars */
.theme-dark [class*="notice-"]:not([class*="noticeInfo-"]) {
    background-color: #dc143c !important;
}

/* Checkbox/Toggle styling when checked */
.theme-dark [class*="checkbox-"][class*="checked-"],
.theme-dark [class*="switchEnabled-"] {
    background-color: #dc143c !important;
}

/* Avatar status ring - streaming */
.theme-dark [class*="streaming-"] {
    stroke: #d946ef !important;
}

/* Context menu */
.theme-dark [class*="menu-"],
.theme-dark [class*="contextMenu-"] {
    background-color: #1e1a1c !important;
}

.theme-dark [class*="menu-"] [class*="item-"]:hover,
.theme-dark [class*="contextMenu-"] [class*="item-"]:hover {
    background-color: #322a2e !important;
}

/* Tooltip */
.theme-dark [class*="tooltip-"] {
    background-color: #0e0c0d !important;
}

/* Role colors preserve but background is themed */
.theme-dark [class*="rolesList-"] [class*="role-"] {
    background-color: #1e1a1c !important;
}

/* Create invite button */
.theme-dark [class*="createInvite-"] {
    background-color: #dc143c !important;
}

/* Nitro/Premium gradient accents */
.theme-dark [class*="premiumBanner-"] {
    background: linear-gradient(135deg, #dc143c, #d946ef) !important;
}